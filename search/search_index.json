{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Tungsten Stable Diffusion Template","text":"<p>Tungsten Stable Diffusion Template is for easily building Tungsten model with Stable Diffusion model weights.</p>"},{"location":"#for-windows","title":"For Windows","text":"<ol> <li>Install Docker Desktop for Windows</li> <li>Download <code>tungsten-sd.zip</code> and extract its contents Download tungsten-sd.zip</li> <li>Double-click <code>update.bat</code></li> <li>Put your SD files into following directories<ul> <li>1 Checkpoint: <code>tungsten-sd/models/Stable-diffusion</code></li> <li>LoRAs (optional): <code>tungsten-sd/models/Lora</code></li> <li>embeddings (optional): <code>tungsten-sd/embeddings</code></li> <li>VAEs (optional): <code>tungsten-sd/models/VAE</code></li> </ul> </li> <li>Double-click <code>build_and_push.bat</code> and enter the responses (e.g. username and password at tungsten.run). </li> <li>Wait until building and pushing your model is finished </li> <li>Visit tungsten.run and go to Your projects &gt; YOUR_PROJECT_NAME to find the uploaded model. </li> </ol>"},{"location":"#for-linuxmac","title":"For Linux/Mac","text":""},{"location":"#prerequisites","title":"Prerequisites","text":"<ul> <li>Stable diffusion weights</li> <li>Python 3.7+</li> <li>Docker</li> </ul>"},{"location":"#create-your-stable-diffusion-model-in-tungsten","title":"Create your Stable Diffusion model in Tungsten","text":""},{"location":"#1-clone-this-repository","title":"1. Clone this repository","text":"<pre><code>git clone --recursive https://github.com/tungsten-ai/tungsten-sd.git\ncd tungsten-sd\n</code></pre>"},{"location":"#2-install-tungstenkit","title":"2. Install Tungstenkit","text":"<p>First, install Tungstenkit:</p> <pre><code>pip install tungstenkit\n</code></pre>"},{"location":"#3-prepare-weights","title":"3. Prepare weights","text":"<p>Put your Stable Diffusion model weights to <code>models/Stable-diffusion</code>.</p> <p>If you want to have your own LoRA and VAE, refer to advanced configuration.</p>"},{"location":"#4-build-model","title":"4. Build model","text":"<pre><code>tungsten build . -n tungsten-stable-diffusion\n</code></pre>"},{"location":"#4-create-a-project-on-tungsten","title":"4. Create a project on Tungsten","text":"<p>Go to tungsten.run and create a project.</p>"},{"location":"#5-push-the-model-to-tungsten","title":"5. Push the model to Tungsten","text":"<p>Log in to Tungsten:</p> <pre><code>tungsten login\n</code></pre> <p>Add tag of the model:</p> <pre><code>tungsten tag tungsten-stable-diffusion &lt;YOUR_PROJECT_NAME&gt;:&lt;YOUR_MODEL_VERSION&gt;\n</code></pre> <p>Then, push the model to the project:</p> <pre><code>tungsten push &lt;YOUR_PROJECT_NAME&gt;:&lt;YOUR_MODEL_VERSION&gt;\n</code></pre>"},{"location":"#6-run-the-model-on-tungsten","title":"6. Run the model on Tungsten","text":"<p>Visit tungsten.run and go to the project page.</p>"},{"location":"#advanced-configuration","title":"Advanced configuration","text":""},{"location":"#lora","title":"LoRA","text":"<ol> <li>Put your LoRA model weights to <code>models/Lora</code>.</li> <li>Modify <code>StableDiffusion.get_loras</code> function in <code>tungsten_model.py</code> to adjust the lora magnitude.</li> </ol>"},{"location":"#vae","title":"VAE","text":"<p>Put your VAE model weights to <code>models/VAE</code>.</p>"},{"location":"#embedding","title":"Embedding","text":"<ol> <li>Put your embedding files to <code>embeddings</code>.</li> <li>Customize prompt (see Prompt customization)</li> </ol>"},{"location":"#prompt-customization","title":"Prompt customization","text":"<p>Modify following functions in <code>tungsten_model.py</code>:</p> <ul> <li><code>StableDiffusion.get_trigger_words</code> - Add trigger words at the start of the prompt.</li> <li><code>StableDiffusion.get_extra_prompt_chunks</code> - Add extra prompt chunks at the end of the prompt.</li> <li><code>StableDiffusion.get_extra_negative_prompt_chunks</code> - Add extra negative prompt chunks at the end of the negative prompt.</li> </ul>"}]}